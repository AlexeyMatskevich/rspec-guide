# –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è code review RSpec —Ç–µ—Å—Ç–æ–≤

–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ RSpec —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ code review. –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ø—Ä–∞–≤–∏–ª–∞—Ö –∏–∑ [–æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞](guide.ru.md).

## üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- [ ] **–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é** ([–ø—Ä–∞–≤–∏–ª–æ 1](guide.ru.md#1-—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ-–ø–æ–≤–µ–¥–µ–Ω–∏–µ-–∞-–Ω–µ-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é))
  - –ù–µ –º–æ–∫–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –≤—ã–∑–æ–≤—ã
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–∞—Ç—á–µ—Ä—ã (`match_array` vs `eq`)
  - –û–ø–∏—Å–∞–Ω–∏–µ —á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ

- [ ] **–û–¥–∏–Ω `it` ‚Äî –æ–¥–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** ([–ø—Ä–∞–≤–∏–ª–æ 3](guide.ru.md#3-–∫–∞–∂–¥—ã–π-example-it-–æ–ø–∏—Å—ã–≤–∞–µ—Ç-–æ–¥–Ω–æ-–Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ-–ø–æ–≤–µ–¥–µ–Ω–∏–µ))
  - –ù–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö expect
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `aggregate_failures` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–¥–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

- [ ] **–ò–µ—Ä–∞—Ä—Ö–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º** ([–ø—Ä–∞–≤–∏–ª–æ 5](guide.ru.md#5-—Å—Ç—Ä–æ–π—Ç–µ-–∏–µ—Ä–∞—Ä—Ö–∏—é-context-–ø–æ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫-happy-path--corner-cases))
  - –ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å = –æ–¥–Ω–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞
  - –ó–∞–≤–∏—Å–∏–º—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≤–ª–æ–∂–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üìù –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞

- [ ] **Happy path –ø–µ—Ä–µ–¥ corner cases** ([–ø—Ä–∞–≤–∏–ª–æ 7](guide.ru.md#7-—Ä–∞—Å–ø–æ–ª–∞–≥–∞–π—Ç–µ-happy-path-–ø–µ—Ä–µ–¥-corner-cases))
- [ ] **–ï—Å—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç** ([–ø—Ä–∞–≤–∏–ª–æ 8](guide.ru.md#8-–ø–∏—à–∏—Ç–µ-–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π-–∏-–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π-—Ç–µ—Å—Ç))
- [ ] **–ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É** ([–ø—Ä–∞–≤–∏–ª–æ 9](guide.ru.md#9-–∫–∞–∂–¥—ã–π-–∫–æ–Ω—Ç–µ–∫—Å—Ç-–¥–æ–ª–∂–µ–Ω-–æ—Ç—Ä–∞–∂–∞—Ç—å-—Ä–∞–∑–ª–∏—á–∏–µ-–≤–ª–æ–∂–µ–Ω–Ω–æ–π-—á–∞—Å—Ç–∏-–æ—Ç-–≤–Ω–µ—à–Ω–µ–π))
- [ ] **–Ø–≤–Ω—ã–π `subject` –≥–¥–µ –Ω—É–∂–µ–Ω** ([–ø—Ä–∞–≤–∏–ª–æ 10](guide.ru.md#10-—É–∫–∞–∑—ã–≤–∞–π—Ç–µ-subject-—á—Ç–æ–±—ã-—è–≤–Ω–æ-–æ–±–æ–∑–Ω–∞—á–∏—Ç—å-–ø—Ä–µ–¥–º–µ—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è))

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

- [ ] **–¢—Ä–∏ —ç—Ç–∞–ø–∞: Given/When/Then** ([–ø—Ä–∞–≤–∏–ª–æ 11](guide.ru.md#11-–∫–∞–∂–¥—ã–π-—Ç–µ—Å—Ç-–¥–æ–ª–∂–µ–Ω-–±—ã—Ç—å-—Ä–∞–∑–¥–µ–ª–µ–Ω-–Ω–∞-3-—ç—Ç–∞–ø–∞-–≤-—Å—Ç—Ä–æ–≥–æ–π-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏))
- [ ] **FactoryBot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ** ([–ø—Ä–∞–≤–∏–ª–∞ 12-14](guide.ru.md#12-–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-factorybot-–¥–ª—è-—Å–∫—Ä—ã—Ç–∏—è-–¥–µ—Ç–∞–ª–µ–π-–∏—Å—Ö–æ–¥–Ω—ã—Ö-–¥–∞–Ω–Ω—ã—Ö))
  - Traits –≤–º–µ—Å—Ç–æ —è–≤–Ω—ã—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤
  - `attributes_for` –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - `build_stubbed` –≤ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞—Ö

- [ ] **–ù–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ç–µ—Å—Ç–∞—Ö** ([–ø—Ä–∞–≤–∏–ª–æ 15](guide.ru.md#15-–Ω–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä—É–π—Ç–µ-–≤-—Ç–µ—Å—Ç–∞—Ö))
- [ ] **–Ø–≤–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ DRY** ([–ø—Ä–∞–≤–∏–ª–æ 16](guide.ru.md#16-—è–≤–Ω–æ—Å—Ç—å-–≤–∞–∂–Ω–µ–µ-dry))

## üí¨ –Ø–∑—ã–∫ –æ–ø–∏—Å–∞–Ω–∏–π

- [ ] **–û–ø–∏—Å–∞–Ω–∏—è —á–∏—Ç–∞—é—Ç—Å—è –∫–∞–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è** ([–ø—Ä–∞–≤–∏–ª–æ 17](guide.ru.md#17-–æ–ø–∏—Å–∞–Ω–∏–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤-context-–∏-—Ç–µ—Å—Ç–æ–≤—ã—Ö-–∫–µ–π—Å–æ–≤-it-–≤–º–µ—Å—Ç–µ-–≤–∫–ª—é—á–∞—è-it-–¥–æ–ª–∂–Ω—ã-—Å–æ—Å—Ç–∞–≤–ª—è—Ç—å-–≤–∞–ª–∏–¥–Ω–æ–µ-–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ-–Ω–∞-–∞–Ω–≥–ª–∏–π—Å–∫–æ–º-—è–∑—ã–∫–µ))
- [ ] **–ü–æ–Ω—è—Ç–Ω—ã –ª—é–±–æ–º—É —á–µ–ª–æ–≤–µ–∫—É** ([–ø—Ä–∞–≤–∏–ª–æ 18](guide.ru.md#18-–æ–ø–∏—Å–∞–Ω–∏–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤-context-–∏-—Ç–µ—Å—Ç–æ–≤—ã—Ö-–∫–µ–π—Å–æ–≤-it-–≤–º–µ—Å—Ç–µ-–≤–∫–ª—é—á–∞—è-it-–¥–æ–ª–∂–Ω—ã-–±—ã—Ç—å-–Ω–∞–ø–∏—Å–∞–Ω—ã-—Ç–∞–∫-—á—Ç–æ–±—ã-–∏—Ö-–ø–æ–Ω–∏–º–∞–ª-–ª—é–±–æ–π-—á–µ–ª–æ–≤–µ–∫))
- [ ] **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞** ([–ø—Ä–∞–≤–∏–ª–æ 19](guide.ru.md#19-–≥—Ä–∞–º–º–∞—Ç–∏–∫–∞-—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫-–≤-describecontextit))
  - Present Simple, –∞–∫—Ç–∏–≤–Ω—ã–π –∑–∞–ª–æ–≥ –≤ `it`
  - –ü–∞—Å—Å–∏–≤–Ω—ã–π –∑–∞–ª–æ–≥ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
  - –Ø–≤–Ω–æ–µ NOT –¥–ª—è –æ—Ç—Ä–∏—Ü–∞–Ω–∏–π
- [ ] **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —è–∑—ã–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤** ([–ø—Ä–∞–≤–∏–ª–æ 20](guide.ru.md#20-—è–∑—ã–∫-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤-when--with--and--without--but--not))
  - when –¥–ª—è –±–∞–∑–æ–≤–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
  - with –¥–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É—Ç–æ—á–Ω–µ–Ω–∏—è
  - and –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
  - without –¥–ª—è –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
  - but –¥–ª—è –ø—Ä–æ—Ç–∏–≤–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è happy path
  - NOT –∫–∞–ø—Å–æ–º –¥–ª—è —è–≤–Ω–æ–≥–æ –æ—Ç—Ä–∏—Ü–∞–Ω–∏—è

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã

- [ ] **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `any_instance`** ([–ø—Ä–∞–≤–∏–ª–æ 22](guide.ru.md#22-–Ω–µ-–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ-any_instancehttpsrspecinfofeatures3-13rspec-mocksold-syntaxany-instance-allow_any_instance_of-expect_any_instance_of))
- [ ] **`aggregate_failures` –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞** ([–ø—Ä–∞–≤–∏–ª–æ 23](guide.ru.md#23-–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ-aggregate_failures-—Ç–æ–ª—å–∫–æ-–∫–æ–≥–¥–∞-–æ–ø–∏—Å—ã–≤–∞–µ—Ç–µ-–æ–¥–Ω–æ-–ø—Ä–∞–≤–∏–ª–æ))
- [ ] **Verifying doubles** ([–ø—Ä–∞–≤–∏–ª–æ 24](guide.ru.md#24-–ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ-verifying-doubles-instance_double-class_double-object_double))
  - `instance_double` –≤–º–µ—Å—Ç–æ `double`
- [ ] **Shared examples –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤** ([–ø—Ä–∞–≤–∏–ª–æ 25](guide.ru.md#25-–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ-shared-examples-–¥–ª—è-–¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤))
- [ ] **Request specs –≤–º–µ—Å—Ç–æ controller specs** ([–ø—Ä–∞–≤–∏–ª–æ 26](guide.ru.md#26-–ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ-request-specs-–≤–º–µ—Å—Ç–æ-controller-specs))
- [ ] **–í—Ä–µ–º—è —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ** ([–ø—Ä–∞–≤–∏–ª–æ 27](guide.ru.md#27-—Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–π—Ç–µ-–≤—Ä–µ–º—è-—á–µ—Ä–µ–∑-activesupporttestingtimehelpers))
- [ ] **–ß–∏—Ç–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –ø–∞–¥–µ–Ω–∏—è** ([–ø—Ä–∞–≤–∏–ª–æ 28](guide.ru.md#28-–¥–µ–ª–∞–π—Ç–µ-–≤—ã–≤–æ–¥-–ø–∞–¥–µ–Ω–∏—è-—Ç–µ—Å—Ç–∞-—á–∏—Ç–∞–µ–º—ã–º))

## üö´ –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã

- [ ] –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- [ ] –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤ —á–µ—Ä–µ–∑ `receive`
- [ ] –ù–µ—Ç `sleep` –≤ —Ç–µ—Å—Ç–∞—Ö
- [ ] –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- [ ] –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥–∞ ID –∏–∑ –±–∞–∑—ã

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

- [ ] –¢–µ—Å—Ç –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –ø–æ–ª–æ–º–∫–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ ([–ø—Ä–∞–≤–∏–ª–æ 2](guide.ru.md#2-–ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ-—á—Ç–æ-—Ç–µ—Å—Ç-—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç))
- [ ] –û–ø–∏—Å–∞–Ω–∏—è –ø–æ–º–æ–≥—É—Ç –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
- [ ] –ù–æ–≤–∏—á–æ–∫ –ø–æ–π–º–µ—Ç, —á—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è
- [ ] –¢–µ—Å—Ç –Ω–µ —Å–ª–æ–º–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ